(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),function e(t,n,o){function i(r,c){if(!n[r]){if(!t[r]){var a="function"==typeof require&&require;if(!c&&a)return a(r,!0);if(s)return s(r,!0);throw(a=new Error("Cannot find module '"+r+"'")).code="MODULE_NOT_FOUND",a}a=n[r]={exports:{}},t[r][0].call(a.exports,(function(e){return i(t[r][1][e]||e)}),a,a.exports,e,t,n,o)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(e,t,n){window.SlotMachine=e("./slot-machine")},{"./slot-machine":3}],2:[function(e,t,n){var o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;t.exports=function(e){setTimeout((function(){return o(e)}),1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{}],3:[function(e,t,n){var o=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=e("./timer"),r=e("./raf"),c={active:0,delay:200,auto:!1,spins:5,randomize:null,onComplete:null,inViewport:!0,direction:"up",transition:"ease-in-out"},a="slotMachineNoTransition",l="slotMachineBlurFast",u="slotMachineBlurMedium",m="slotMachineBlurSlow",d="slotMachineBlurTurtle",h="slotMachineGradient",_=h;o(f,[{key:"changeSettings",value:function(e){var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))}},{key:"_wrapTiles",value:function(){var e=this;this.container=document.createElement("div"),this.container.classList.add("slotMachineContainer"),this.container.style.transition="1s ease-in-out",this.element.appendChild(this.container),this._fakeFirstTile=this.tiles[this.tiles.length-1].cloneNode(!0),this.container.appendChild(this._fakeFirstTile),this.tiles.forEach((function(t){e.container.appendChild(t)})),this._fakeLastTile=this.tiles[0].cloneNode(!0),this.container.appendChild(this._fakeLastTile)}},{key:"_setBounds",value:function(){var e=this.getTileOffset(this.active),t=this.getTileOffset(this.tiles.length),n=this.getTileOffset(this.tiles.length);this._bounds={up:{key:"up",initial:e,first:0,last:n,to:this._maxTop,firstToLast:n,lastToFirst:0},down:{key:"down",initial:e,first:t,last:0,to:this._minTop,firstToLast:n,lastToFirst:0}}}},{key:"_changeTransition",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.delay,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.transition;this.container.style.transition=e/1e3+"s "+t}},{key:"_changeTransform",value:function(e){this.container.style.transform="matrix(1, 0, 0, 1, 0, "+e+")"}},{key:"_isGoingBackward",value:function(){return this.nextActive>this.active&&0===this.active&&this.nextActive===this.tiles.length-1}},{key:"_isGoingForward",value:function(){return this.nextActive<=this.active&&this.active===this.tiles.length-1&&0===this.nextActive}},{key:"getTileOffset",value:function(e){for(var t=0,n=0;n<e;n++)t+=this.tiles[n].offsetHeight;return this._minTop-t}},{key:"_resetPosition",value:function(e){this.container.classList.toggle(a),this._changeTransform(isNaN(e)?this.bounds.initial:e),this.container.offsetHeight,this.container.classList.toggle(a)}},{key:"prev",value:function(){return this.nextActive=this.prevIndex,this.running=!0,this.stop(),this.nextActive}},{key:"next",value:function(){return this.nextActive=this.nextIndex,this.running=!0,this.stop(),this.nextActive}},{key:"_getDelayFromSpins",value:function(e){var t=this.delay;switch(this.transition="linear",e){case 1:t/=.5,this.transition="ease-out",this._animationFX=d;break;case 2:t/=.75,this._animationFX=m;break;case 3:t/=1,this._animationFX=u;break;case 4:t/=1.25,this._animationFX=u;break;default:t/=1.5,this._animationFX=l}return t}},{key:"shuffle",value:function(e,t){var n,o=this;return"function"==typeof e&&(t=e),this.running=!0,this.visible||!0!==this.inViewport?(n=this._getDelayFromSpins(e),this._changeTransition(n),this._changeTransform(this.bounds.to),r((function(){var n;!o.stopping&&o.running&&(n=e-1,o._resetPosition(o.bounds.first),1<n?o.shuffle(n,t):o.stop(t))}),n)):this.stop(t),this.nextActive}},{key:"stop",value:function(e){var t=this;if(!this.running||this.stopping)return this.nextActive;this.running=!0,this.stopping=!0,Number.isInteger(this.nextActive)||(this.nextActive=this.custom),this._isGoingBackward()?this._resetPosition(this.bounds.firstToLast):this._isGoingForward()&&this._resetPosition(this.bounds.lastToFirst),this.active=this.nextActive;var n=this._getDelayFromSpins(1);return this._changeTransition(n),this._animationFX=_,this._changeTransform(this.getTileOffset(this.active)),r((function(){t.stopping=!1,t.running=!1,t.nextActive=null,"function"==typeof t.onComplete&&t.onComplete(t.active),"function"==typeof e&&e.apply(t,[t.active])}),n),this.active}},{key:"run",value:function(){var e=this;this.running||(this._timer=new s((function(){e.visible||!0!==e.inViewport?e.shuffle(e.spins,(function(){e._timer.reset()})):r((function(){e._timer.reset()}),500)}),this.auto))}},{key:"destroy",value:function(){var e=this;this._fakeFirstTile.remove(),this._fakeLastTile.remove(),this.tiles.forEach((function(t){e.element.appendChild(t)})),this.container.remove()}},{key:"active",get:function(){return this._active},set:function(e){((e=Number(e))<0||e>=this.tiles.length||isNaN(e))&&(e=0),this._active=e}},{key:"direction",get:function(){return this._direction},set:function(e){this.running||(this._direction="down"===e?"down":"up")}},{key:"bounds",get:function(){return this._bounds[this._direction]}},{key:"transition",get:function(){return this._transition},set:function(e){this._transition=e||"ease-in-out"}},{key:"visibleTile",get:function(){var e=this.tiles[0].offsetHeight,t=this.container.style.transform||"";t=parseInt(t.replace(/^matrix\(-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?(-?\d+)\)$/,"$1"),10);return Math.abs(Math.round(t/e))-1}},{key:"random",get:function(){return Math.floor(Math.random()*this.tiles.length)}},{key:"custom",get:function(){var e;return this.randomize?(((e=this.randomize(this.active))<0||e>=this.tiles.length)&&(e=0),e):this.random}},{key:"_prevIndex",get:function(){var e=this.active-1;return e<0?this.tiles.length-1:e}},{key:"_nextIndex",get:function(){var e=this.active+1;return e<this.tiles.length?e:0}},{key:"prevIndex",get:function(){return"up"===this.direction?this._nextIndex:this._prevIndex}},{key:"nextIndex",get:function(){return"up"===this.direction?this._prevIndex:this._nextIndex}},{key:"visible",get:function(){var e=this.element.getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth;t=e.top<=t&&0<=e.top+e.height,e=e.left<=n&&0<=e.left+e.width;return t&&e}},{key:"_animationFX",set:function(e){var t=this,n=this.delay/4;r((function(){[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.tiles),[t._fakeLastTile,t._fakeFirstTile]).forEach((function(t){t.classList.remove(l,u,m,d),e!==_&&t.classList.add(e)})),e===_?t.container.classList.remove(h):t.container.classList.add(h)}),n)}}]),o=f;function f(e,t){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),this.element=e,this.tiles=[].slice.call(this.element.children),this.running=!1,this.stopping=!1,this.element.style.overflow="hidden",this._wrapTiles(),this._minTop=-this._fakeFirstTile.offsetHeight,this._maxTop=-this.tiles.reduce((function(e,t){return e+t.offsetHeight}),0),this.changeSettings(Object.assign({},c,t)),this._setBounds(),this._resetPosition(),!1!==this.auto&&this.run()}t.exports=o},{"./raf":2,"./timer":4}],4:[function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.cb=e,this.initialDelay=t,this.delay=t,this.startTime=null,this.timer=null,this.running=!1,this.resume(),this}t.exports=(function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(i,[{key:"_start",value:function(){var e=this;this.timer=setTimeout((function(){e.running=!1,e.cb(e)}),this.delay)}},{key:"cancel",value:function(){this.running=!1,clearTimeout(this.timer)}},{key:"pause",value:function(){this.running&&(this.delay-=(new Date).getTime()-this.startTime,this.cancel())}},{key:"resume",value:function(){this.running||(this.running=!0,this.startTime=(new Date).getTime(),this._start())}},{key:"reset",value:function(){this.cancel(),this.delay=this.initialDelay,this._start()}},{key:"add",value:function(e){this.pause(),this.delay+=e,this.resume()}}]),i)},{}]},{},[1]),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",1e4),document.querySelector(".check")&&document.querySelectorAll(".check").forEach((e=>{e.textContent=sessionStorage.getItem("money")})),(document.querySelector(".slot")||document.querySelector(".game"))&&(+sessionStorage.getItem("money")>=100?(document.querySelector(".block-bet__coins").textContent=100,sessionStorage.setItem("current-bet",100)):(document.querySelector(".block-bet__coins").textContent=0,sessionStorage.setItem("current-bet",0)));const t=document.querySelector(".preloader"),n=document.querySelector(".wrapper");function o(e,t){document.querySelector(e).classList.contains(t)?document.querySelector(e).classList.remove(t):document.querySelector(e).classList.add(t)}function i(){return+sessionStorage.getItem("current-bet")}function s(e,t){let n=+sessionStorage.getItem("money");sessionStorage.setItem("money",n-e),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.add("_delete-money"))),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money")))}),500),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_delete-money")))}),1500)}function r(e){document.querySelectorAll(e).forEach((e=>e.classList.add("_no-money"))),setTimeout((()=>{document.querySelectorAll(e).forEach((e=>e.classList.remove("_no-money")))}),1e3)}function c(e,t){return Math.floor(Math.random()*(t-e)+e)}function a(e,t,n,o){setTimeout((()=>{document.querySelectorAll(t).forEach((t=>t.textContent=+sessionStorage.getItem("money")+e)),document.querySelectorAll(t).forEach((e=>e.classList.add("_anim-add-money"))),sessionStorage.setItem("money",+sessionStorage.getItem("money")+e)}),n),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_anim-add-money")))}),o)}document.querySelector(".money__icon img")&&setInterval((()=>{!function(){let e=c(0,3),t=["jump","scale","rotate"],n=document.querySelector(".money__icon img");n.classList.contains("_anim-icon-jump")?n.classList.remove("_anim-icon-jump"):n.classList.contains("_anim-icon-scale")?n.classList.remove("_anim-icon-scale"):n.classList.contains("_anim-icon-rotate")&&n.classList.remove("_anim-icon-rotate"),setTimeout((()=>{n.classList.add(`_anim-icon-${t[e]}`)}),100)}()}),1e4),document.querySelector(".main__body")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main__body").classList.add("_active");const l={current_win:0};document.querySelector(".slot__body")&&document.querySelector(".preloader").classList.contains("_hide")&&(document.querySelector(".slot__body").classList.add("_active"),k());var u=1e3,m=2500,d=document.querySelector("#slot1"),h=document.querySelector("#slot2"),_=document.querySelector("#slot3"),f=document.querySelector("#slot4"),g=document.querySelector("#slot5");if(d&&h&&_&&f&&g){let E,F,M,z,B;var y=new SlotMachine(d,{active:1,delay:800,onComplete:function(e){if(E=this.active,j(),666!=E&&666!=F&&666!=M&&666!=z&&666!=B&&E==F&&F==M&&M==z&&z==B){let e=i();a(100*e,".check",1e3,2e3),q(e),k()}}}),v=new SlotMachine(h,{active:5,delay:800,onComplete:function(e){if(F=this.active,j(),666!=E&&666!=F&&666!=M&&666!=z&&666!=B&&E==F&&F==M&&M==z&&z==B){let e=i();a(100*e,".check",1e3,2e3),q(e),k()}}}),b=new SlotMachine(_,{active:3,delay:800,onComplete:function(e){if(M=this.active,j(),666!=E&&666!=F&&666!=M&&666!=z&&666!=B&&E==F&&F==M&&M==z&&z==B){let e=i();a(100*e,".check",1e3,2e3),q(e),k()}}}),p=new SlotMachine(f,{active:2,delay:800,onComplete:function(e){if(z=this.active,j(),666!=E&&666!=F&&666!=M&&666!=z&&666!=B&&E==F&&F==M&&M==z&&z==B){let e=i();a(100*e,".check",1e3,2e3),q(e),k()}}}),S=new SlotMachine(g,{active:4,delay:800,onComplete:function(e){if(B=this.active,j(),666!=E&&666!=F&&666!=M&&666!=z&&666!=B&&E==F&&F==M&&M==z&&z==B){let e=i();a(100*e,".check",1e3,2e3),q(e),k()}}});function j(){+sessionStorage.getItem("money")<+sessionStorage.getItem("current-bet")&&setTimeout((()=>{sessionStorage.setItem("current-bet",0),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")}),1500)}document.querySelector(".controls-game__button-spin")&&document.querySelector(".controls-game__button-spin").addEventListener("click",(()=>{E=666,F=666,M=666,z=666,B=666,d&&h&&_&&f&&g&&+sessionStorage.getItem("money")>+sessionStorage.getItem("current-bet")?(s(+sessionStorage.getItem("current-bet"),".check"),clearInterval(undefined),y.shuffle(10),v.shuffle(10),b.shuffle(10),p.shuffle(10),S.shuffle(10),setTimeout((()=>y.stop()),c(u,m)),setTimeout((()=>v.stop()),c(u,m)),setTimeout((()=>b.stop()),c(u,m)),setTimeout((()=>p.stop()),c(u,m)),setTimeout((()=>S.stop()),c(u,m)),document.querySelector(".controls-game__button-spin").classList.add("_hold"),setTimeout((()=>{document.querySelector(".controls-game__button-spin").classList.remove("_hold")}),3500)):r(".check")}))}function k(){l.current_win>0?document.querySelector(".controls-game__coins").textContent=`+${l.current_win}`:document.querySelector(".controls-game__coins").textContent=0}function q(e){l.current_win+=100*e}document.querySelector(".game__body")&&document.querySelector(".preloader").classList.contains("_hide")&&(document.querySelector(".game__body").classList.add("_active"),I(),+sessionStorage.getItem("free-btn")>0&&o(".controls__btn-free","_active"));const w={last_rotate:0,count_win:0};function L(){w.last_rotate+=c(100,2e3),document.querySelector(".circle__drum-box").style.transform=`rotate(${w.last_rotate}deg)`,document.querySelector(".circle__drum-box").style.transition="2s"}function T(){let e=document.querySelector(".circle__dot").getBoundingClientRect().top+10,t=document.querySelector(".circle__dot").getBoundingClientRect().left,n=document.elementFromPoint(t,e);return console.log(`arrow_top - ${e}`),console.log(`arrow_left - ${t}`),console.log(n),n}function x(e){let t=e.dataset.target;"bonus"==t?document.querySelector(".bonus").classList.add("_active"):+t>0&&a(+t+100,".check",1e3,2e3)}function I(){let e=function(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}(["bonus","zero_item_1","zero_item_2","free"]);A(0,".bonus__item_1",e),A(1,".bonus__item_2",e),A(2,".bonus__item_3",e),A(3,".bonus__item_4",e)}function A(e,t,n){let o=function(){let e=document.createElement("div");e.classList.add("bonus__jackpot");let t=document.createElement("div");t.classList.add("bonus__text"),t.classList.add("text"),t.classList.add("text_orange"),t.textContent="+100000";let n=document.createElement("img");document.documentElement.classList.contains("webp")?n.setAttribute("src","img/game/jackpot.webp"):n.setAttribute("src","img/game/jackpot.png");return n.setAttribute("alt","Icon"),e.append(t,n),e}(),i=C(),s=C(),r=function(){let e=document.createElement("div");e.classList.add("bonus__free-btn");let t=document.createElement("img");document.documentElement.classList.contains("webp")?t.setAttribute("src","img/game/btn_free.webp"):t.setAttribute("src","img/game/btn_free.png");return t.setAttribute("alt","Icon"),e.append(t),e}();"bonus"==n[e]?(document.querySelector(t).append(o),document.querySelector(t).dataset.prize="money"):"zero_item_1"==n[e]?(document.querySelector(t).append(i),document.querySelector(t).dataset.prize="zero"):"zero_item_2"==n[e]?(document.querySelector(t).append(s),document.querySelector(t).dataset.prize="zero"):"free"==n[e]&&(document.querySelector(t).append(r),document.querySelector(t).dataset.prize="free")}function C(){let e=document.createElement("div");return e.classList.add("bonus__zero"),e.classList.add("text"),e.classList.add("text_orange"),e.textContent="zero",e}document.addEventListener("click",(e=>{let i=e.target;if(i.closest(".preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),n.classList.add("_visible"),document.querySelector(".main__body")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main__body").classList.add("_active")),i.closest(".block-bet__minus")){let e=+sessionStorage.getItem("current-bet");e>=50&&(sessionStorage.setItem("current-bet",e-50),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet"))}if(i.closest(".block-bet__plus")){let e=+sessionStorage.getItem("current-bet");+sessionStorage.getItem("money")-49>e?(sessionStorage.setItem("current-bet",e+50),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")):r(".check")}if(i.closest(".controls-game__button-max")){let e=sessionStorage.getItem("money");sessionStorage.setItem("current-bet",+e-50),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")}i.closest(".controls__btn-spin")&&(L(),s(100,".check"),o(".controls__btn-spin","_hold"),document.querySelector(".controls__btn-free").classList.contains("_active")&&o(".controls__btn-free","_hold"),setTimeout((()=>{o(".controls__btn-spin","_hold"),document.querySelector(".controls__btn-free").classList.contains("_active")&&o(".controls__btn-free","_hold"),x(T())}),2e3)),i.closest(".controls__btn-free")&&i.closest(".controls__btn-free").classList.contains("_active")&&(L(),o(".controls__btn-spin","_hold"),o(".controls__btn-free","_hold"),setTimeout((()=>{o(".controls__btn-spin","_hold"),o(".controls__btn-free","_hold"),x(T()),sessionStorage.setItem("free-btn",+sessionStorage.getItem("free-btn")-1),0==+sessionStorage.getItem("free-btn")&&o(".controls__btn-free","_active")}),2e3)),i.closest(".bonus__item")&&(i.closest(".bonus__item").classList.add("_active"),document.querySelector(".bonus__body").classList.add("_active"),function(e){"money"==e.dataset.prize?a(1e5,".check",1e3,2e3):"free"==e.dataset.prize&&(sessionStorage.getItem("free-btn")?sessionStorage.setItem("free-btn",+sessionStorage.getItem("free-btn")+1):sessionStorage.setItem("free-btn",1),o(".controls__btn-free","_active"))}(i.closest(".bonus__item"))),i.closest(".bonus__button")&&(document.querySelector(".bonus").classList.remove("_active"),document.querySelectorAll(".bonus__item").forEach((e=>{e.classList.contains("_active")&&e.classList.remove("_active")})),document.querySelector(".bonus__body").classList.remove("_active"),setTimeout((()=>{document.querySelector(".bonus__zero")&&document.querySelectorAll(".bonus__zero").forEach((e=>e.remove())),document.querySelector(".bonus__jackpot")&&document.querySelector(".bonus__jackpot").remove(),document.querySelector(".bonus__free-btn")&&document.querySelector(".bonus__free-btn").remove(),I()}),2e3))})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();